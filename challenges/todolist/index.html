<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>The F2E - Todolist</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/regular.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/fontawesome.css"/>
    <link rel="stylesheet" href="css/style.css"/>
  </head>
  <body>
    <nav>
      <section class="navbar">
        <div class="item active">我的任務</div>
        <div class="item">進行中</div>
        <div class="item">已完成</div>
      </section>
    </nav>
    <section class="todos" id="todos">
      <div class="todos__add" v-if="add" @click="add=false">
        <input type="text" placeholder="新增任務"/><span>+</span>
      </div>
      <div class="todos__new" v-else="v-else">
        <article class="todo edit icon-empty">
          <section class="menu-head" :class="{ active: newTodo.star }">
            <div class="menu-head__control">
              <input type="checkbox" id="new"/>
              <label for="new">
                <div></div>
              </label>
              <input type="text" placeholder="你的任務名稱" v-model="newTodo.title"/><i class="far fa-star" :class="{ active: newTodo.star }" @click="newTodo.star=!newTodo.star"></i><i class="far fa-edit active"></i>
            </div>
          </section>
          <section class="menu-body">
            <div class="menu-body__edit">
              <section class="deadline">
                <div class="menu-body__subtitle"><i class="far fa-calendar-alt"></i><span>到期日</span></div>
                <div class="menu-body__input">
                  <input type="date"/>
                  <input type="time"/>
                </div>
              </section>
              <section class="file">
                <div class="menu-body__subtitle"><i class="far fa-file"></i><span>附檔</span></div>
                <div class="menu-body__input">
                  <input type="file"/>
                  <input type="button" value="+" @click="clickFile"/>
                </div>
              </section>
              <section class="comment">
                <div class="menu-body__subtitle"><i class="far fa-comment-dots"></i><span>附註</span></div>
                <div class="menu-body__input">
                  <textarea placeholder="新增附註" v-model="newTodo.comment"></textarea>
                </div>
              </section>
            </div>
            <div class="menu-body__decision">
              <div class="cancel" @click="add=true"><span>×</span>取消</div>
              <div class="save" @click="addNewTodo"><span>+</span>新增</div>
            </div>
          </section>
        </article>
      </div>
      <div class="todos__todo">
        <article class="todo" v-for="(todo, idx) in todos" :class="{ edit: todo.open, 'icon-empty': !(todo.date || todo.time || todo.file || todo.comment) }">
          <section class="menu-head" :class="{ active: todo.star }">
            <div class="menu-head__control">
              <input type="checkbox" :id="idx"/>
              <label :for="idx">
                <div></div>
              </label>
              <input type="text" placeholder="你的任務名稱" :value="todo.title"/><i class="far fa-star" :class="{ active: todo.star }" @click="todo.star=!todo.star"></i><i class="far fa-edit" :class="{ active: todo.open }" @click="todo.open=true"></i>
            </div>
            <div class="menu-head__icon">
              <div v-if="todo.date || todo.time"><i class="far fa-calendar-alt"></i><span>8/20</span></div><i class="far fa-file" v-if="todo.file"></i><i class="far fa-comment-dots" v-if="todo.comment"></i>
            </div>
          </section>
          <section class="menu-body" v-show="todo.open">
            <div class="menu-body__edit">
              <section class="deadline">
                <div class="menu-body__subtitle"><i class="far fa-calendar-alt"></i><span>到期日</span></div>
                <div class="menu-body__input">
                  <input type="date"/>
                  <input type="time"/>
                </div>
              </section>
              <section class="file">
                <div class="menu-body__subtitle"><i class="far fa-file"></i><span>附檔</span></div>
                <div class="menu-body__input">
                  <input type="file"/>
                  <input type="button" value="+" @click="clickFile"/>
                </div>
              </section>
              <section class="comment">
                <div class="menu-body__subtitle"><i class="far fa-comment-dots"></i><span>附註</span></div>
                <div class="menu-body__input">
                  <textarea placeholder="新增附註">{{todo.comment}}</textarea>
                </div>
              </section>
            </div>
            <div class="menu-body__decision">
              <div class="cancel" @click="todo.open=false"><span>×</span>取消</div>
              <div class="save" @click="todo.open=false"><span>+</span>儲存</div>
            </div>
          </section>
        </article>
      </div>
      <div class="todos__remain">剩下 {{todos.length}} 個任務</div>
    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>