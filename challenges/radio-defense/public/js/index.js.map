{"version":3,"sources":["index.js"],"names":["updateFPS","time","globalColor","red","yellow","blue","blueDark","white","startBtn","document","getElementById","panel","addEventListener","game","startGame","style","display","once","gui","dat","GUI","Vec2","x","y","v","s","Math","sqrt","newVal","newLength","unit","mul","set","atan2","length","canvas","ctx","getContext","gameW","gameH","circle","r","arc","PI","line","v1","v2","moveTo","lineTo","initCanvas","width","height","degToPi","coverCircle","coverTriangle","coverPolygon","Game","args","def","isGameStart","Object","assign","Circle","rotationAxisR","rotationAngle","Triangle","rotate","Polygon","p","scale","render","update","fillStyle","fillRect","drawCover","requestAnimationFrame","setTimeout","save","translate","beginPath","strokeStyle","stroke","globalAlpha","restore","draw","drawBattery","closePath","fill","rotationAxisPos","color","cos","sin","canMove","rotateV","isInBoundary","random","xInRange","yInRange","Shooter","handleLoad","init","window","mouseMovePos","mouseUpPos","mouseDownPos","handleMouseMove","handleMouseUp","handleMouseDown","evt","clone"],"mappings":";;;;;;;;AAAA;AACA,IAAMA,SAAS,GAAG,EAAlB,C,CACA;AACA;;AACA,IAAIC,IAAI,GAAG,CAAX;AAEA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,GAAG,EAAE,SADa;AAElBC,EAAAA,MAAM,EAAE,SAFU;AAGlBC,EAAAA,IAAI,EAAE,SAHY;AAIlBC,EAAAA,QAAQ,EAAE,SAJQ;AAKlBC,EAAAA,KAAK,EAAE;AALW,CAApB;AAQA,IAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAjB;AACA,IAAMC,KAAK,GAAGF,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAd;AACAF,QAAQ,CAACI,gBAAT,CAA0B,OAA1B,EACE,YAAW;AACTC,EAAAA,IAAI,CAACC,SAAL;AACAH,EAAAA,KAAK,CAACI,KAAN,CAAYC,OAAZ,GAAsB,MAAtB;AACD,CAJH,EAKE;AACEC,EAAAA,IAAI,EAAE;AADR,CALF;AAWA;AACA;AACA;AACA;;AAEA,IAAMC,GAAG,GAAG,IAAIC,GAAG,CAACC,GAAR,EAAZ,C,CACA;;AAMA;;IACMC,I;;;AACJ,gBAAYC,CAAZ,EAAeC,CAAf,EAAkB;AAAA;;AAChB,SAAKD,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACD;;;;wBAEGD,C,EAAGC,C,EAAG;AACR,WAAKD,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;AACD;;;yBACID,C,EAAGC,C,EAAG;AACT,WAAKD,CAAL,IAAUA,CAAV;AACA,WAAKC,CAAL,IAAUA,CAAV;AACD;;;wBACGC,C,EAAG;AACL,aAAO,IAAIH,IAAJ,CAAS,KAAKC,CAAL,GAASE,CAAC,CAACF,CAApB,EAAuB,KAAKC,CAAL,GAASC,CAAC,CAACD,CAAlC,CAAP;AACD;;;wBACGC,C,EAAG;AACL,aAAO,IAAIH,IAAJ,CAAS,KAAKC,CAAL,GAASE,CAAC,CAACF,CAApB,EAAuB,KAAKC,CAAL,GAASC,CAAC,CAACD,CAAlC,CAAP;AACD;;;wBACGE,C,EAAG;AACL,aAAO,IAAIJ,IAAJ,CAAS,KAAKC,CAAL,GAASG,CAAlB,EAAqB,KAAKF,CAAL,GAASE,CAA9B,CAAP;AACD;;;4BACO;AACN,aAAO,IAAIJ,IAAJ,CAAS,KAAKC,CAAd,EAAiB,KAAKC,CAAtB,CAAP;AACD;;;0BACKC,C,EAAG;AACP,aAAO,KAAKF,CAAL,KAAWE,CAAC,CAACF,CAAb,IAAkB,KAAKC,CAAL,KAAWC,CAAC,CAACD,CAAtC;AACD;;;+BACU;AACT,wBAAW,KAAKD,CAAhB,eAAsB,KAAKC,CAA3B;AACD;;;wBAEY;AACX,aAAOG,IAAI,CAACC,IAAL,CAAU,KAAKL,CAAL,GAAS,KAAKA,CAAd,GAAkB,KAAKC,CAAL,GAAS,KAAKA,CAA1C,CAAP;AACD,K;sBACUK,M,EAAQ;AACjB,UAAMC,SAAS,GAAG,KAAKC,IAAL,CAAUC,GAAV,CAAcH,MAAd,CAAlB;AACA,WAAKI,GAAL,CAASH,SAAS,CAACP,CAAnB,EAAsBO,SAAS,CAACN,CAAhC;AACD;;;wBACW;AACV,aAAOG,IAAI,CAACO,KAAL,CAAW,KAAKV,CAAhB,EAAmB,KAAKD,CAAxB,CAAP;AACD;;;wBACU;AACT,aAAO,KAAKS,GAAL,CAAS,IAAI,KAAKG,MAAlB,CAAP;AACD;;;;;AAOH;;;AACA,IAAMC,MAAM,GAAG1B,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAf;AACA,IAAM0B,GAAG,GAAGD,MAAM,CAACE,UAAP,CAAkB,IAAlB,CAAZ;AACA,IAAIC,KAAJ;AACA,IAAIC,KAAJ;;AAEAH,GAAG,CAACI,MAAJ,GAAa,UAAUhB,CAAV,EAAaiB,CAAb,EAAgB;AAC3B,OAAKC,GAAL,CAASlB,CAAC,CAACF,CAAX,EAAcE,CAAC,CAACD,CAAhB,EAAmBkB,CAAnB,EAAsB,CAAtB,EAAyBf,IAAI,CAACiB,EAAL,GAAU,CAAnC;AACD,CAFD;;AAGAP,GAAG,CAACQ,IAAJ,GAAW,UAAUC,EAAV,EAAcC,EAAd,EAAkB;AAC3B,OAAKC,MAAL,CAAYF,EAAE,CAACvB,CAAf,EAAkBuB,EAAE,CAACtB,CAArB;AACA,OAAKyB,MAAL,CAAYF,EAAE,CAACxB,CAAf,EAAkBwB,EAAE,CAACvB,CAArB;AACD,CAHD;;AAKA,SAAS0B,UAAT,GAAsB;AACpBX,EAAAA,KAAK,GAAGH,MAAM,CAACe,KAAf;AACAX,EAAAA,KAAK,GAAGJ,MAAM,CAACgB,MAAf;AACD,C,CACD;;;AAMA,IAAMC,OAAO,GAAG1B,IAAI,CAACiB,EAAL,GAAU,GAA1B,C,CACA;;AACA,IAAIU,WAAJ;AACA,IAAIC,aAAJ;AACA,IAAIC,YAAJ;AACA,IAAI1C,IAAJ;;IAEM2C,I;;;AACJ,gBAAYC,IAAZ,EAAkB;AAAA;;AAChB,QAAMC,GAAG,GAAG;AACVC,MAAAA,WAAW,EAAE;AADH,KAAZ;AAGAC,IAAAA,MAAM,CAACC,MAAP,CAAcH,GAAd,EAAmBD,IAAnB;AACAG,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBH,GAApB;AACD;;;;2BACM;AACLL,MAAAA,WAAW,GAAG,IAAIS,MAAJ,CAAW;AACvBC,QAAAA,aAAa,EAAE,GADQ;AAEvBC,QAAAA,aAAa,EAAE,CAAC,EAFO;AAGvBvB,QAAAA,CAAC,EAAE;AAHoB,OAAX,CAAd;AAKAa,MAAAA,aAAa,GAAG,IAAIW,QAAJ,CAAa;AAC3BF,QAAAA,aAAa,EAAE;AACbzC,UAAAA,CAAC,EAAE,GADU;AAEbC,UAAAA,CAAC,EAAE;AAFU,SADY;AAK3ByC,QAAAA,aAAa,EAAE,EALY;AAM3BE,QAAAA,MAAM,EAAE,EANmB;AAO3BzB,QAAAA,CAAC,EAAE;AAPwB,OAAb,CAAhB;AASAc,MAAAA,YAAY,GAAG,IAAIY,OAAJ,CAAY;AACzBC,QAAAA,CAAC,EAAE;AACD9C,UAAAA,CAAC,EAAE,EADF;AAEDC,UAAAA,CAAC,EAAE;AAFF,SADsB;AAKzB8C,QAAAA,KAAK,EAAE;AALkB,OAAZ,CAAf;AAOA,WAAKC,MAAL;AACA,WAAKC,MAAL;AACD;;;6BACQ;AAAA;;AACPnC,MAAAA,GAAG,CAACoC,SAAJ,GAAgBtE,WAAW,CAACI,QAA5B;AACA8B,MAAAA,GAAG,CAACqC,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBnC,KAAnB,EAA0BC,KAA1B;;AACA,UAAI,CAAC,KAAKoB,WAAV,EAAuB;AACrB,aAAKe,SAAL;AACD;;AACDC,MAAAA,qBAAqB,CAAC,YAAM;AAAE,QAAA,KAAI,CAACL,MAAL;AAAe,OAAxB,CAArB;AACD;;;6BACQ;AAAA;;AACPrE,MAAAA,IAAI,IAAI,CAAR;AAEA2E,MAAAA,UAAU,CAAC,YAAM;AAAE,QAAA,MAAI,CAACL,MAAL;AAAe,OAAxB,EAA0B,OAAOvE,SAAjC,CAAV;AACD;;;gCACW;AACV;AACAoC,MAAAA,GAAG,CAACyC,IAAJ;AACEzC,MAAAA,GAAG,CAAC0C,SAAJ,CAAcxC,KAAK,GAAG,CAAtB,EAAyBC,KAAK,GAAG,CAAjC;AACAH,MAAAA,GAAG,CAAC2C,SAAJ;AACA3C,MAAAA,GAAG,CAACM,GAAJ,CAAQ,CAAR,EAAW,CAAX,EAAc,GAAd,EAAmB,CAAnB,EAAsBhB,IAAI,CAACiB,EAAL,GAAU,CAAhC;AACAP,MAAAA,GAAG,CAAC4C,WAAJ,GAAkB9E,WAAW,CAACK,KAA9B;AACA6B,MAAAA,GAAG,CAAC6C,MAAJ;AACA7C,MAAAA,GAAG,CAAC2C,SAAJ;AACA3C,MAAAA,GAAG,CAACM,GAAJ,CAAQ,CAAR,EAAW,CAAX,EAAc,GAAd,EAAmB,CAAnB,EAAsBhB,IAAI,CAACiB,EAAL,GAAU,CAAhC;AACAP,MAAAA,GAAG,CAAC8C,WAAJ,GAAkB,GAAlB;AACA9C,MAAAA,GAAG,CAAC6C,MAAJ;AACF7C,MAAAA,GAAG,CAAC+C,OAAJ,GAZU,CAaV;;AACA9B,MAAAA,WAAW,CAAC+B,IAAZ;AACA/B,MAAAA,WAAW,CAACkB,MAAZ,GAfU,CAgBV;;AACAjB,MAAAA,aAAa,CAAC8B,IAAd;AACA9B,MAAAA,aAAa,CAACiB,MAAd,GAlBU,CAmBV;;AACAhB,MAAAA,YAAY,CAAC6B,IAAb;AACA7B,MAAAA,YAAY,CAACgB,MAAb,GArBU,CAsBV;;AACAc,MAAAA,WAAW,CAAC;AACV/D,QAAAA,CAAC,EAAEgB,KAAK,GAAG,CAAR,GAAY,EADL;AAEVf,QAAAA,CAAC,EAAEgB,KAAK,GAAG,CAAR,GAAY;AAFL,OAAD,CAAX,CAvBU,CA2BV;;AACAH,MAAAA,GAAG,CAACyC,IAAJ;AACEzC,MAAAA,GAAG,CAAC0C,SAAJ,CAAcxC,KAAK,GAAG,CAAR,GAAY,EAA1B,EAA8BC,KAAK,GAAG,CAAR,GAAY,EAA1C;AACAH,MAAAA,GAAG,CAAC8B,MAAJ,CAAW,CAAC,GAAD,GAAOd,OAAlB;AACAhB,MAAAA,GAAG,CAAC2C,SAAJ;AACA3C,MAAAA,GAAG,CAACW,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAX,MAAAA,GAAG,CAACY,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAZ,MAAAA,GAAG,CAACY,MAAJ,CAAW,CAAX,EAAc,CAAC,GAAf;AACAZ,MAAAA,GAAG,CAACY,MAAJ,CAAW,CAAC,GAAZ,EAAiB,CAAjB;AACAZ,MAAAA,GAAG,CAACkD,SAAJ;AACAlD,MAAAA,GAAG,CAACoC,SAAJ,GAAgBtE,WAAW,CAACK,KAA5B;AACA6B,MAAAA,GAAG,CAACmD,IAAJ;AACFnD,MAAAA,GAAG,CAAC+C,OAAJ;AACD;;;gCACW;AACV,WAAKxB,WAAL,GAAmB,IAAnB;AACD;;;;;AAKH;;;IACMG,M;;;AACJ,kBAAYL,IAAZ,EAAkB;AAAA;;AAChB,QAAMC,GAAG,GAAG;AACV8B,MAAAA,eAAe,EAAE;AACflE,QAAAA,CAAC,EAAEgB,KAAK,GAAG,CADI;AAEff,QAAAA,CAAC,EAAEgB,KAAK,GAAG;AAFI,OADP;AAKVwB,MAAAA,aAAa,EAAE,CALL;AAMVC,MAAAA,aAAa,EAAE,CANL;AAOVvB,MAAAA,CAAC,EAAE,EAPO;AAQVjB,MAAAA,CAAC,EAAE,GARO;AASViE,MAAAA,KAAK,EAAEvF,WAAW,CAACE;AATT,KAAZ;AAWAwD,IAAAA,MAAM,CAACC,MAAP,CAAcH,GAAd,EAAmBD,IAAnB;AACAG,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBH,GAApB;AACD;;;;2BACM;AACLtB,MAAAA,GAAG,CAAC2C,SAAJ;AACA3C,MAAAA,GAAG,CAACyC,IAAJ;AACEzC,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,KAAKU,eAAL,CAAqBlE,CAAnC,EAAsC,KAAKkE,eAAL,CAAqBjE,CAA3D;AACAa,MAAAA,GAAG,CAACM,GAAJ,CAAQ,KAAKqB,aAAL,GAAqBrC,IAAI,CAACgE,GAAL,CAAS,KAAK1B,aAAL,GAAqBZ,OAA9B,CAA7B,EAAqE,KAAKW,aAAL,GAAqBrC,IAAI,CAACiE,GAAL,CAAS,KAAK3B,aAAL,GAAqBZ,OAA9B,CAA1F,EAAkI,KAAKX,CAAvI,EAA0I,CAA1I,EAA6If,IAAI,CAACiB,EAAL,GAAU,CAAvJ;AACFP,MAAAA,GAAG,CAAC+C,OAAJ;AACA/C,MAAAA,GAAG,CAACoC,SAAJ,GAAgB,KAAKiB,KAArB;AACArD,MAAAA,GAAG,CAACmD,IAAJ;AACD;;;6BACQ;AACP,WAAKvB,aAAL,IAAsB,KAAKxC,CAA3B;AACD;;;;;AAKH;;;IACMyC,Q;;;AACJ,oBAAYR,IAAZ,EAAkB;AAAA;;AAChB,QAAMC,GAAG,GAAG;AACV8B,MAAAA,eAAe,EAAE;AACflE,QAAAA,CAAC,EAAEgB,KAAK,GAAG,CADI;AAEff,QAAAA,CAAC,EAAEgB,KAAK,GAAG;AAFI,OADP;AAKVwB,MAAAA,aAAa,EAAE;AACbzC,QAAAA,CAAC,EAAE,CADU;AAEbC,QAAAA,CAAC,EAAE;AAFU,OALL;AASVyC,MAAAA,aAAa,EAAE,CATL;AAUVvB,MAAAA,CAAC,EAAE,EAVO;AAWVyB,MAAAA,MAAM,EAAE,CAXE;AAYV1C,MAAAA,CAAC,EAAE,CAAC,GAZM;AAaViE,MAAAA,KAAK,EAAEvF,WAAW,CAACG,IAbT;AAcVuF,MAAAA,OAAO,EAAE;AAdC,KAAZ;AAgBAhC,IAAAA,MAAM,CAACC,MAAP,CAAcH,GAAd,EAAmBD,IAAnB;AACAG,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBH,GAApB;AACD;;;;2BACM;AACLtB,MAAAA,GAAG,CAAC2C,SAAJ;AACA3C,MAAAA,GAAG,CAACyC,IAAJ;AACEzC,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,KAAKU,eAAL,CAAqBlE,CAAnC,EAAsC,KAAKkE,eAAL,CAAqBjE,CAA3D;AACAa,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,KAAKf,aAAL,CAAmBzC,CAAnB,GAAuBI,IAAI,CAACgE,GAAL,CAAS,KAAK1B,aAAL,GAAqBZ,OAA9B,CAArC,EAA6E,KAAKW,aAAL,CAAmBxC,CAAnB,GAAuBG,IAAI,CAACiE,GAAL,CAAS,KAAK3B,aAAL,GAAqBZ,OAA9B,CAApG;AACAhB,MAAAA,GAAG,CAACW,MAAJ,CAAW,KAAKN,CAAL,GAASf,IAAI,CAACgE,GAAL,CAAS,IAAI,KAAKxB,MAAL,GAAcd,OAA3B,CAApB,EAAyD,KAAKX,CAAL,GAASf,IAAI,CAACiE,GAAL,CAAS,IAAI,KAAKzB,MAAL,GAAcd,OAA3B,CAAlE;AACAhB,MAAAA,GAAG,CAACY,MAAJ,CAAW,KAAKP,CAAL,GAASf,IAAI,CAACgE,GAAL,CAAS,CAAC,MAAM,KAAKxB,MAAZ,IAAsBd,OAA/B,CAApB,EAA6D,KAAKX,CAAL,GAASf,IAAI,CAACiE,GAAL,CAAS,CAAC,MAAM,KAAKzB,MAAZ,IAAsBd,OAA/B,CAAtE;AACAhB,MAAAA,GAAG,CAACY,MAAJ,CAAW,KAAKP,CAAL,GAASf,IAAI,CAACgE,GAAL,CAAS,CAAC,MAAM,KAAKxB,MAAZ,IAAsBd,OAA/B,CAApB,EAA6D,KAAKX,CAAL,GAASf,IAAI,CAACiE,GAAL,CAAS,CAAC,MAAM,KAAKzB,MAAZ,IAAsBd,OAA/B,CAAtE;AACFhB,MAAAA,GAAG,CAAC+C,OAAJ;AACA/C,MAAAA,GAAG,CAACkD,SAAJ;AACAlD,MAAAA,GAAG,CAACoC,SAAJ,GAAgB,KAAKiB,KAArB;AACArD,MAAAA,GAAG,CAACmD,IAAJ;AACD;;;6BACQ;AACP,WAAKrB,MAAL,IAAe,KAAK1C,CAApB,CADO,CAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;;;;AAKH;;;IACM2C,O;;;AACJ,mBAAYV,IAAZ,EAAkB;AAAA;;AAChB,QAAMC,GAAG,GAAG;AACVU,MAAAA,CAAC,EAAE,IAAI/C,IAAJ,CAAS,CAAT,EAAY,CAAZ,CADO;AAEVG,MAAAA,CAAC,EAAE;AACDF,QAAAA,CAAC,EAAE,CADF;AAEDC,QAAAA,CAAC,EAAE;AAFF,OAFO;AAMV8C,MAAAA,KAAK,EAAE,CANG;AAOVH,MAAAA,MAAM,EAAE,CAPE;AAQV2B,MAAAA,OAAO,EAAE,GARC;AASVJ,MAAAA,KAAK,EAAEvF,WAAW,CAACC;AATT,KAAZ;AAWAyD,IAAAA,MAAM,CAACC,MAAP,CAAcH,GAAd,EAAmBD,IAAnB;AACAG,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBH,GAApB;AACD;;;;2BACM;AACLtB,MAAAA,GAAG,CAACyC,IAAJ;AACEzC,MAAAA,GAAG,CAAC2C,SAAJ;AACA3C,MAAAA,GAAG,CAACiC,KAAJ,CAAU,KAAKA,KAAf,EAAsB,KAAKA,KAA3B;AACAjC,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,KAAKV,CAAL,CAAO9C,CAArB,EAAwB,KAAK8C,CAAL,CAAO7C,CAA/B;AACAa,MAAAA,GAAG,CAAC8B,MAAJ,CAAW,KAAKA,MAAL,GAAcd,OAAzB;AACAhB,MAAAA,GAAG,CAACW,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAX,MAAAA,GAAG,CAAC8B,MAAJ,CAAW,KAAKd,OAAhB;AACAhB,MAAAA,GAAG,CAACY,MAAJ,CAAW,EAAX,EAAe,CAAf;AACAZ,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,EAAd,EAAkB,CAAlB;AAEA1C,MAAAA,GAAG,CAAC8B,MAAJ,CAAW,KAAKd,OAAhB;AACAhB,MAAAA,GAAG,CAACY,MAAJ,CAAW,EAAX,EAAe,CAAf;AACAZ,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,EAAd,EAAkB,CAAlB;AAEA1C,MAAAA,GAAG,CAAC8B,MAAJ,CAAW,KAAKd,OAAhB;AACAhB,MAAAA,GAAG,CAACY,MAAJ,CAAW,EAAX,EAAe,CAAf;AACAZ,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,EAAd,EAAkB,CAAlB;AAEA1C,MAAAA,GAAG,CAAC8B,MAAJ,CAAW,KAAKd,OAAhB;AACAhB,MAAAA,GAAG,CAACY,MAAJ,CAAW,EAAX,EAAe,CAAf;AACAZ,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,EAAd,EAAkB,CAAlB;AAEA1C,MAAAA,GAAG,CAAC8B,MAAJ,CAAW,KAAKd,OAAhB;AACAhB,MAAAA,GAAG,CAACY,MAAJ,CAAW,EAAX,EAAe,CAAf;AACFZ,MAAAA,GAAG,CAAC+C,OAAJ;AACA/C,MAAAA,GAAG,CAACoC,SAAJ,GAAgB,KAAKiB,KAArB;AACArD,MAAAA,GAAG,CAACmD,IAAJ;AACD;;;6BACQ;AACP,WAAKnB,CAAL,CAAO9C,CAAP,IAAY,KAAKE,CAAL,CAAOF,CAAnB;AACA,WAAK8C,CAAL,CAAO7C,CAAP,IAAY,KAAKC,CAAL,CAAOD,CAAnB;AACA,WAAK2C,MAAL,IAAe,KAAK2B,OAApB;;AACA,UAAI,CAAC,KAAKC,YAAV,EAAwB;AACtB,aAAK1B,CAAL,CAAO9C,CAAP,GAAW,CAAC,EAAZ;AACA,aAAK8C,CAAL,CAAO7C,CAAP,GAAW,CAAC,EAAZ;AACA,aAAKC,CAAL,CAAOF,CAAP,GAAW,MAAMI,IAAI,CAACqE,MAAL,EAAN,GAAsB,GAAjC;AACA,aAAKvE,CAAL,CAAOD,CAAP,GAAW,MAAMG,IAAI,CAACqE,MAAL,EAAN,GAAsB,GAAjC;AACD;AACF;;;wBACkB;AACjB,UAAMC,QAAQ,GAAG,CAAC,EAAD,IAAO,KAAK5B,CAAL,CAAO9C,CAAd,IAAmB,KAAK8C,CAAL,CAAO9C,CAAP,IAAYgB,KAAK,GAAG,EAAxD;AACA,UAAM2D,QAAQ,GAAG,CAAC,EAAD,IAAO,KAAK7B,CAAL,CAAO7C,CAAd,IAAmB,KAAK6C,CAAL,CAAO7C,CAAP,IAAYgB,KAAK,GAAG,EAAxD;AACA,aAAOyD,QAAQ,IAAIC,QAAnB;AACD;;;;;AAIH;;;IACMC,O;;;AACJ,mBAAYzC,IAAZ,EAAkB;AAAA;;AAChB,QAAMC,GAAG,GAAG;AACVU,MAAAA,CAAC,EAAE;AACD9C,QAAAA,CAAC,EAAEgB,KAAK,GAAG,CADV;AAEDf,QAAAA,CAAC,EAAEgB,KAAK,GAAG;AAFV;AADO,KAAZ;AAMAqB,IAAAA,MAAM,CAACC,MAAP,CAAcH,GAAd,EAAmBD,IAAnB;AACAG,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBH,GAApB;AACD;;;;2BACM;AACLtB,MAAAA,GAAG,CAACyC,IAAJ;AACEzC,MAAAA,GAAG,CAAC0C,SAAJ,CAAc,KAAKV,CAAL,CAAO9C,CAArB,EAAwB,KAAK8C,CAAL,CAAO7C,CAA/B;AACFa,MAAAA,GAAG,CAAC+C,OAAJ;AACD;;;;KAGH;;;AACA,SAASE,WAAT,CAAqBjB,CAArB,EAAwB;AACtBhC,EAAAA,GAAG,CAACyC,IAAJ;AACEzC,EAAAA,GAAG,CAAC0C,SAAJ,CAAcV,CAAC,CAAC9C,CAAhB,EAAmB8C,CAAC,CAAC7C,CAArB;AACAa,EAAAA,GAAG,CAACoC,SAAJ,GAAgBtE,WAAW,CAACE,MAA5B,CAHoB,CAIpB;;AACAgC,EAAAA,GAAG,CAAC2C,SAAJ;AACA3C,EAAAA,GAAG,CAACW,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAX,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAC,EAAZ,EAAgB,CAAhB;AACAZ,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAC,EAAZ,EAAgB,EAAhB;AACAZ,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAX,EAAc,EAAd;AACAZ,EAAAA,GAAG,CAACkD,SAAJ;AACAlD,EAAAA,GAAG,CAACmD,IAAJ,GAXoB,CAYpB;;AACAnD,EAAAA,GAAG,CAACyC,IAAJ;AACEzC,EAAAA,GAAG,CAAC0C,SAAJ,CAAc,CAAd,EAAiB,EAAjB;AACA1C,EAAAA,GAAG,CAAC2C,SAAJ;AACA3C,EAAAA,GAAG,CAACW,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAX,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAC,EAAZ,EAAgB,CAAhB;AACAZ,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAC,EAAZ,EAAgB,CAAhB;AACAZ,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAZ,EAAAA,GAAG,CAACkD,SAAJ;AACAlD,EAAAA,GAAG,CAACmD,IAAJ;AACFnD,EAAAA,GAAG,CAAC+C,OAAJ,GAtBoB,CAuBpB;;AACA/C,EAAAA,GAAG,CAACoC,SAAJ,GAAgBtE,WAAW,CAACK,KAA5B;AACA6B,EAAAA,GAAG,CAACyC,IAAJ;AACEzC,EAAAA,GAAG,CAAC0C,SAAJ,CAAc,CAAC,IAAf,EAAqB,CAArB;AACA1C,EAAAA,GAAG,CAAC2C,SAAJ;AACA3C,EAAAA,GAAG,CAACW,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAX,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAX,EAAc,CAAC,CAAf;AACAZ,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAC,IAAZ,EAAkB,CAAC,CAAnB;AACAZ,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAC,IAAZ,EAAkB,CAAC,CAAnB;AACAZ,EAAAA,GAAG,CAACkD,SAAJ;AACAlD,EAAAA,GAAG,CAACmD,IAAJ;AACFnD,EAAAA,GAAG,CAAC+C,OAAJ,GAlCoB,CAmCpB;;AACA/C,EAAAA,GAAG,CAAC4C,WAAJ,GAAkB9E,WAAW,CAACK,KAA9B;AACA6B,EAAAA,GAAG,CAAC0C,SAAJ,CAAc,CAAC,EAAf,EAAmB,CAAnB;AACA1C,EAAAA,GAAG,CAAC2C,SAAJ;AACA3C,EAAAA,GAAG,CAACW,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAX,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,KAAKd,OAAhB;AACAhB,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAX,EAAc,EAAd;AACAZ,EAAAA,GAAG,CAAC0C,SAAJ,CAAc,CAAd,EAAiB,EAAjB;AACA1C,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,CAAC,EAAD,GAAMd,OAAjB;AAEAhB,EAAAA,GAAG,CAACY,MAAJ,CAAW,EAAX,EAAe,CAAf;AACAZ,EAAAA,GAAG,CAAC0C,SAAJ,CAAc,EAAd,EAAkB,CAAlB;AAEA1C,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,KAAKd,OAAhB;AACAhB,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAX,EAAc,EAAd;AACAZ,EAAAA,GAAG,CAAC0C,SAAJ,CAAc,CAAd,EAAiB,EAAjB;AACA1C,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,CAAC,EAAD,GAAMd,OAAjB;AAEAhB,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,MAAMd,OAAjB;AACAhB,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAX,EAAc,CAAC,EAAf;AACAZ,EAAAA,GAAG,CAAC0C,SAAJ,CAAc,CAAd,EAAiB,CAAC,EAAlB;AACA1C,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,CAAC,GAAD,GAAOd,OAAlB;AAEAhB,EAAAA,GAAG,CAACY,MAAJ,CAAW,CAAC,CAAZ,EAAe,CAAf;AACAZ,EAAAA,GAAG,CAACkD,SAAJ;AACAlD,EAAAA,GAAG,CAACmD,IAAJ;AACFnD,EAAAA,GAAG,CAAC+C,OAAJ;AACD;AAED;AACA;AAEA;;AAMA;AACA;AACA;AACA;;AAMA;AACA;AACE;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACF;;AAMA;;;AACA,SAASgB,UAAT,GAAsB;AACpBtF,EAAAA,IAAI,GAAG,IAAI2C,IAAJ,EAAP;AACAP,EAAAA,UAAU;AACVpC,EAAAA,IAAI,CAACuF,IAAL,GAHoB,CAIpB;AACA;AACA;AACD,C,CAED;;;AACAC,MAAM,CAACzF,gBAAP,CAAwB,MAAxB,EAAgCuF,UAAhC;AACAE,MAAM,CAACzF,gBAAP,CAAwB,QAAxB,EAAkCqC,UAAlC;AAMA;;AACA,IAAMqD,YAAY,GAAG,IAAIjF,IAAJ,CAAS,CAAT,EAAY,CAAZ,CAArB;AACA,IAAIkF,UAAU,GAAG,IAAIlF,IAAJ,CAAS,CAAT,EAAY,CAAZ,CAAjB;AACA,IAAImF,YAAY,GAAG,IAAInF,IAAJ,CAAS,CAAT,EAAY,CAAZ,CAAnB;AAEAgF,MAAM,CAACzF,gBAAP,CAAwB,WAAxB,EAAqC6F,eAArC;AACAJ,MAAM,CAACzF,gBAAP,CAAwB,SAAxB,EAAmC8F,aAAnC;AACAL,MAAM,CAACzF,gBAAP,CAAwB,WAAxB,EAAqC+F,eAArC;;AAEA,SAASF,eAAT,CAAyBG,GAAzB,EAA8B;AAC5BN,EAAAA,YAAY,CAACtE,GAAb,CAAiB4E,GAAG,CAACtF,CAArB,EAAwBsF,GAAG,CAACrF,CAA5B;AACD;;AAED,SAASmF,aAAT,CAAuBE,GAAvB,EAA4B;AAC1BL,EAAAA,UAAU,GAAGD,YAAY,CAACO,KAAb,EAAb;AACD;;AAED,SAASF,eAAT,CAAyBC,GAAzB,EAA8B;AAC5BJ,EAAAA,YAAY,GAAGF,YAAY,CAACO,KAAb,EAAf;AACD","file":"index.js","sourcesContent":["/* Environment Variable */\r\nconst updateFPS = 30;\r\n// const showMouse = true;\r\n// const bgColor = 'black';\r\nlet time = 0;\r\n\r\nconst globalColor = {\r\n  red: \"#e7465d\",\r\n  yellow: \"#f5af5f\",\r\n  blue: \"#3676bb\",\r\n  blueDark: \"#001d2e\",\r\n  white: \"#fff\",\r\n};\r\n\r\nconst startBtn = document.getElementById('start-btn');\r\nconst panel = document.getElementById('panel');\r\nstartBtn.addEventListener('click',\r\n  function() {\r\n    game.startGame();\r\n    panel.style.display = 'none';\r\n  },\r\n  {\r\n    once: true,\r\n  }\r\n);\r\n\r\n\r\n/* GUI Controls */\r\n// const controls = {\r\n//   value: 0,\r\n// }\r\n\r\nconst gui = new dat.GUI();\r\n// gui.add(controls, 'value', -2, 2).step(0.01).onChange((value) => {});\r\n\r\n\r\n\r\n\r\n\r\n/* 2D Vector Class */\r\nclass Vec2 {\r\n  constructor(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  set(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n  move(x, y) {\r\n    this.x += x;\r\n    this.y += y;\r\n  }\r\n  add(v) {\r\n    return new Vec2(this.x + v.x, this.y + v.y);\r\n  }\r\n  sub(v) {\r\n    return new Vec2(this.x - v.x, this.y - v.y);\r\n  }\r\n  mul(s) {\r\n    return new Vec2(this.x * s, this.y * s);\r\n  }\r\n  clone() {\r\n    return new Vec2(this.x, this.y);\r\n  }\r\n  equal(v) {\r\n    return this.x === v.x && this.y === v.y;\r\n  }\r\n  toString() {\r\n    return `(${this.x}, ${this.y})`;\r\n  }\r\n\r\n  get length() {\r\n    return Math.sqrt(this.x * this.x + this.y * this.y);\r\n  }\r\n  set length(newVal) {\r\n    const newLength = this.unit.mul(newVal);\r\n    this.set(newLength.x, newLength.y);\r\n  }\r\n  get angle() {\r\n    return Math.atan2(this.y, this.x);\r\n  }\r\n  get unit() {\r\n    return this.mul(1 / this.length);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* Initialize Canvas Settings */\r\nconst canvas = document.getElementById('game');\r\nconst ctx = canvas.getContext('2d');\r\nlet gameW;\r\nlet gameH;\r\n\r\nctx.circle = function (v, r) {\r\n  this.arc(v.x, v.y, r, 0, Math.PI * 2);\r\n}\r\nctx.line = function (v1, v2) {\r\n  this.moveTo(v1.x, v1.y);\r\n  this.lineTo(v2.x, v2.y);\r\n}\r\n\r\nfunction initCanvas() {\r\n  gameW = canvas.width;\r\n  gameH = canvas.height;\r\n}\r\n// initCanvas();\r\n\r\n\r\n\r\n\r\n\r\nconst degToPi = Math.PI / 180;\r\n// let circles = [];\r\nlet coverCircle;\r\nlet coverTriangle;\r\nlet coverPolygon;\r\nlet game;\r\n\r\nclass Game {\r\n  constructor(args) {\r\n    const def = {\r\n      isGameStart: true,\r\n    };\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  init() {\r\n    coverCircle = new Circle({\r\n      rotationAxisR: 380,\r\n      rotationAngle: -36,\r\n      r: 39,\r\n    });\r\n    coverTriangle = new Triangle({\r\n      rotationAxisR: {\r\n        x: 320,\r\n        y: 320,\r\n      },\r\n      rotationAngle: 40,\r\n      rotate: 32,\r\n      r: 44,\r\n    });\r\n    coverPolygon = new Polygon({\r\n      p: {\r\n        x: 72,\r\n        y: 96,\r\n      },\r\n      scale: 1.25,\r\n    });\r\n    this.render();\r\n    this.update();\r\n  }\r\n  render() {\r\n    ctx.fillStyle = globalColor.blueDark;\r\n    ctx.fillRect(0, 0, gameW, gameH);\r\n    if (!this.isGameStart) {\r\n      this.drawCover();\r\n    }\r\n    requestAnimationFrame(() => { this.render() });\r\n  }\r\n  update() {\r\n    time += 1;\r\n    \r\n    setTimeout(() => { this.update() }, 1000 / updateFPS);\r\n  }\r\n  drawCover() {\r\n    // 中央兩白圈\r\n    ctx.save();\r\n      ctx.translate(gameW / 2, gameH / 2);\r\n      ctx.beginPath();\r\n      ctx.arc(0, 0, 180, 0, Math.PI * 2);\r\n      ctx.strokeStyle = globalColor.white;\r\n      ctx.stroke();\r\n      ctx.beginPath();\r\n      ctx.arc(0, 0, 264, 0, Math.PI * 2);\r\n      ctx.globalAlpha = 0.3;\r\n      ctx.stroke();\r\n    ctx.restore();\r\n    // 黃圓\r\n    coverCircle.draw();\r\n    coverCircle.update();\r\n    // 藍三角形\r\n    coverTriangle.draw();\r\n    coverTriangle.update();\r\n    // 紅多邊形\r\n    coverPolygon.draw();\r\n    coverPolygon.update();\r\n    // 電池\r\n    drawBattery({\r\n      x: gameW / 2 - 24,\r\n      y: gameH / 2 - 51.8,\r\n    });\r\n    // R 字小角裝飾\r\n    ctx.save();\r\n      ctx.translate(gameW / 2 + 24, gameH / 2 - 30);\r\n      ctx.rotate(-132 * degToPi);\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, 0);\r\n      ctx.lineTo(4, 0);\r\n      ctx.lineTo(0, -8.4);\r\n      ctx.lineTo(-4.2, 0);\r\n      ctx.closePath();\r\n      ctx.fillStyle = globalColor.white;\r\n      ctx.fill();\r\n    ctx.restore();\r\n  }\r\n  startGame() {\r\n    this.isGameStart = true;\r\n  }\r\n}\r\n\r\n\r\n\r\n/* Circle Class */\r\nclass Circle {\r\n  constructor(args) {\r\n    const def = {\r\n      rotationAxisPos: {\r\n        x: gameW / 2,\r\n        y: gameH / 2\r\n      },\r\n      rotationAxisR: 0,\r\n      rotationAngle: 0,\r\n      r: 26,\r\n      v: 0.8,\r\n      color: globalColor.yellow,\r\n    }\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  draw() {\r\n    ctx.beginPath();\r\n    ctx.save();\r\n      ctx.translate(this.rotationAxisPos.x, this.rotationAxisPos.y);\r\n      ctx.arc(this.rotationAxisR * Math.cos(this.rotationAngle * degToPi), this.rotationAxisR * Math.sin(this.rotationAngle * degToPi), this.r, 0, Math.PI * 2);\r\n    ctx.restore();\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill();\r\n  }\r\n  update() {\r\n    this.rotationAngle += this.v;\r\n  }\r\n}\r\n\r\n\r\n\r\n/* Triangle Class */\r\nclass Triangle {\r\n  constructor(args) {\r\n    const def = {\r\n      rotationAxisPos: {\r\n        x: gameW / 2,\r\n        y: gameH / 2\r\n      },\r\n      rotationAxisR: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      rotationAngle: 0,\r\n      r: 28,\r\n      rotate: 0,\r\n      v: -0.4,\r\n      color: globalColor.blue,\r\n      canMove: true,\r\n    }\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  draw() {\r\n    ctx.beginPath();\r\n    ctx.save();\r\n      ctx.translate(this.rotationAxisPos.x, this.rotationAxisPos.y);\r\n      ctx.translate(this.rotationAxisR.x * Math.cos(this.rotationAngle * degToPi), this.rotationAxisR.y * Math.sin(this.rotationAngle * degToPi)); \r\n      ctx.moveTo(this.r * Math.cos(0 + this.rotate * degToPi), this.r * Math.sin(0 + this.rotate * degToPi));\r\n      ctx.lineTo(this.r * Math.cos((120 + this.rotate) * degToPi), this.r * Math.sin((120 + this.rotate) * degToPi));\r\n      ctx.lineTo(this.r * Math.cos((240 + this.rotate) * degToPi), this.r * Math.sin((240 + this.rotate) * degToPi));\r\n    ctx.restore();\r\n    ctx.closePath();\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill();\r\n  }\r\n  update() {\r\n    this.rotate += this.v;\r\n    // if (this.canMove) {\r\n    //   this.canMove = false;\r\n    //   setTimeout(() => {\r\n    //     TweenLite.to(this, 0.8, {\r\n    //       // rotationAngle: `${Math.random() < 0.5 ? '-=' : '+='}${Math.random() * 30 + 15}`,\r\n    //       rotationAngle: '+=90',\r\n    //       ease: Sine.easeInOut,\r\n    //       // onComplete: () => {\r\n    //       //   this.canMove = true;\r\n    //       // },\r\n    //     });\r\n    //     this.canMove = true;\r\n    //   }, 1200);\r\n    // }\r\n  }\r\n}\r\n\r\n\r\n\r\n/* Polygon Class */\r\nclass Polygon {\r\n  constructor(args) {\r\n    const def = {\r\n      p: new Vec2(0, 0),\r\n      v: {\r\n        x: 1,\r\n        y: 0.5,\r\n      },\r\n      scale: 1,\r\n      rotate: 0,\r\n      rotateV: 0.4,\r\n      color: globalColor.red,\r\n    }\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  draw() {\r\n    ctx.save();\r\n      ctx.beginPath();\r\n      ctx.scale(this.scale, this.scale);\r\n      ctx.translate(this.p.x, this.p.y);\r\n      ctx.rotate(this.rotate * degToPi);\r\n      ctx.moveTo(0, 0);\r\n      ctx.rotate(20 * degToPi);\r\n      ctx.lineTo(32, 0);\r\n      ctx.translate(32, 0);\r\n\r\n      ctx.rotate(62 * degToPi);\r\n      ctx.lineTo(20, 0);\r\n      ctx.translate(20, 0);\r\n\r\n      ctx.rotate(40 * degToPi);\r\n      ctx.lineTo(28, 0);\r\n      ctx.translate(28, 0);\r\n\r\n      ctx.rotate(78 * degToPi);\r\n      ctx.lineTo(36, 0);\r\n      ctx.translate(36, 0);\r\n\r\n      ctx.rotate(44 * degToPi);\r\n      ctx.lineTo(34, 0);\r\n    ctx.restore();\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill();\r\n  }\r\n  update() {\r\n    this.p.x += this.v.x;\r\n    this.p.y += this.v.y;\r\n    this.rotate += this.rotateV;\r\n    if (!this.isInBoundary) {\r\n      this.p.x = -48;\r\n      this.p.y = -32;\r\n      this.v.x = 0.5 * Math.random() + 0.5;\r\n      this.v.y = 0.5 * Math.random() + 0.5;\r\n    }\r\n  }\r\n  get isInBoundary() {\r\n    const xInRange = -48 <= this.p.x && this.p.x <= gameW + 48;\r\n    const yInRange = -48 <= this.p.y && this.p.y <= gameH + 48;\r\n    return xInRange && yInRange;\r\n  }\r\n}\r\n\r\n\r\n/* Shooter Class */\r\nclass Shooter {\r\n  constructor(args) {\r\n    const def = {\r\n      p: {\r\n        x: gameW / 2,\r\n        y: gameH / 2,\r\n      },\r\n    };\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  draw() {\r\n    ctx.save();\r\n      ctx.translate(this.p.x, this.p.y);\r\n    ctx.restore();\r\n  }\r\n}\r\n\r\n// draw battery\r\nfunction drawBattery(p) {\r\n  ctx.save();\r\n    ctx.translate(p.x, p.y);\r\n    ctx.fillStyle = globalColor.yellow;\r\n    // 瓶身\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(-24, 0);\r\n    ctx.lineTo(-24, 42);\r\n    ctx.lineTo(0, 42);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    // 瓶底\r\n    ctx.save();\r\n      ctx.translate(0, 44);\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, 0);\r\n      ctx.lineTo(-24, 0);\r\n      ctx.lineTo(-24, 3);\r\n      ctx.lineTo(0, 3);\r\n      ctx.closePath();\r\n      ctx.fill();\r\n    ctx.restore();\r\n    // 瓶蓋\r\n    ctx.fillStyle = globalColor.white;\r\n    ctx.save();\r\n      ctx.translate(-6.75, 0);\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, 0);\r\n      ctx.lineTo(0, -3);\r\n      ctx.lineTo(-10.5, -3);\r\n      ctx.lineTo(-10.5, -0);\r\n      ctx.closePath();\r\n      ctx.fill();\r\n    ctx.restore();\r\n    // 閃電\r\n    ctx.strokeStyle = globalColor.white;\r\n    ctx.translate(-11, 9);\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.rotate(18 * degToPi);\r\n    ctx.lineTo(0, 10);\r\n    ctx.translate(0, 10);\r\n    ctx.rotate(-18 * degToPi);\r\n\r\n    ctx.lineTo(10, 0);\r\n    ctx.translate(10, 0);\r\n\r\n    ctx.rotate(28 * degToPi);\r\n    ctx.lineTo(0, 16);\r\n    ctx.translate(0, 16);\r\n    ctx.rotate(-28 * degToPi);\r\n\r\n    ctx.rotate(3.6 * degToPi);\r\n    ctx.lineTo(0, -10);\r\n    ctx.translate(0, -10);\r\n    ctx.rotate(-3.6 * degToPi);\r\n\r\n    ctx.lineTo(-8, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n  ctx.restore();\r\n}\r\n\r\n/* Initialize Game Logic */\r\n// function init() {\r\n\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n/* Update Game Logic */\r\n// function update() {\r\n//   time += 1;\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n/* Update Picture */\r\n// function draw() {\r\n  // clear background\r\n  // ctx.fillStyle = globalColor.blueDark;\r\n  // ctx.fillRect(0, 0, gameW, gameH);\r\n\r\n  // draw here\r\n  // ...\r\n\r\n  // draw mouse\r\n  // ctx.fillStyle = 'red';\r\n  // ctx.beginPath();\r\n  // ctx.circle(mouseMovePos, 3);\r\n  // ctx.fill();\r\n\r\n  // ctx.save();\r\n  // ctx.translate(mouseMovePos.x, mouseMovePos.y);\r\n  // ctx.strokeStyle = 'red';\r\n  // const length = 20;\r\n  // ctx.beginPath();\r\n  // ctx.fillText(mouseMovePos, 10, -10);\r\n  // ctx.line(new Vec2(-length, 0), new Vec2(length, 0));\r\n  // ctx.line(new Vec2(0, -length), new Vec2(0, length));\r\n  // ctx.stroke();\r\n  // ctx.restore();\r\n\r\n  // requestAnimationFrame(draw);\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n/* Page Loaded */\r\nfunction handleLoad() {\r\n  game = new Game();\r\n  initCanvas();\r\n  game.init();\r\n  // init();\r\n  // requestAnimationFrame(draw);\r\n  // setInterval(update, 1000 / updateFPS);\r\n}\r\n\r\n// load & resize event\r\nwindow.addEventListener('load', handleLoad);\r\nwindow.addEventListener('resize', initCanvas);\r\n\r\n\r\n\r\n\r\n\r\n/* Mouse Events & Recording */\r\nconst mouseMovePos = new Vec2(0, 0);\r\nlet mouseUpPos = new Vec2(0, 0);\r\nlet mouseDownPos = new Vec2(0, 0);\r\n\r\nwindow.addEventListener('mousemove', handleMouseMove);\r\nwindow.addEventListener('mouseup', handleMouseUp);\r\nwindow.addEventListener('mousedown', handleMouseDown);\r\n\r\nfunction handleMouseMove(evt) {\r\n  mouseMovePos.set(evt.x, evt.y);\r\n}\r\n\r\nfunction handleMouseUp(evt) {\r\n  mouseUpPos = mouseMovePos.clone();\r\n}\r\n\r\nfunction handleMouseDown(evt) {\r\n  mouseDownPos = mouseMovePos.clone();\r\n}"]}