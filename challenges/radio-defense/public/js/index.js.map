{"version":3,"sources":["index.js"],"names":["updateFPS","time","globalColor","red","yellow","blue","blueDark","white","gui","dat","GUI","Vec2","x","y","v","s","Math","sqrt","newVal","newLength","unit","mul","set","atan2","length","canvas","document","getElementById","ctx","getContext","cw","ch","circle","r","arc","PI","line","v1","v2","moveTo","lineTo","initCanvas","width","height","degToPi","Game","args","def","start","Object","assign","render","update","fillStyle","fillRect","save","translate","beginPath","strokeStyle","stroke","globalAlpha","restore","Circle","p","draw","triangle","Triangle","rotate","polygon","Polygon","drawBattery","closePath","fill","requestAnimationFrame","setTimeout","color","handleLoad","game","init","window","addEventListener","mouseMovePos","mouseUpPos","mouseDownPos","handleMouseMove","handleMouseUp","handleMouseDown","evt","clone"],"mappings":"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","file":"index.js","sourcesContent":["/* Environment Variable */\r\nconst updateFPS = 30;\r\n// const showMouse = true;\r\n// const bgColor = 'black';\r\nlet time = 0;\r\n\r\nconst globalColor = {\r\n  red: \"#e7465d\",\r\n  yellow: \"#f5af5f\",\r\n  blue: \"#3676bb\",\r\n  blueDark: \"#001d2e\",\r\n  white: \"#fff\",\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/* GUI Controls */\r\n// const controls = {\r\n//   value: 0,\r\n// }\r\n\r\nconst gui = new dat.GUI();\r\n// gui.add(controls, 'value', -2, 2).step(0.01).onChange((value) => {});\r\n\r\n\r\n\r\n\r\n\r\n/* 2D Vector Class */\r\nclass Vec2 {\r\n  constructor(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  set(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n  move(x, y) {\r\n    this.x += x;\r\n    this.y += y;\r\n  }\r\n  add(v) {\r\n    return new Vec2(this.x + v.x, this.y + v.y);\r\n  }\r\n  sub(v) {\r\n    return new Vec2(this.x - v.x, this.y - v.y);\r\n  }\r\n  mul(s) {\r\n    return new Vec2(this.x * s, this.y * s);\r\n  }\r\n  clone() {\r\n    return new Vec2(this.x, this.y);\r\n  }\r\n  equal(v) {\r\n    return this.x === v.x && this.y === v.y;\r\n  }\r\n  toString() {\r\n    return `(${this.x}, ${this.y})`;\r\n  }\r\n\r\n  get length() {\r\n    return Math.sqrt(this.x * this.x + this.y * this.y);\r\n  }\r\n  set length(newVal) {\r\n    const newLength = this.unit.mul(newVal);\r\n    this.set(newLength.x, newLength.y);\r\n  }\r\n  get angle() {\r\n    return Math.atan2(this.y, this.x);\r\n  }\r\n  get unit() {\r\n    return this.mul(1 / this.length);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* Initialize Canvas Settings */\r\nconst canvas = document.getElementById('game');\r\nconst ctx = canvas.getContext('2d');\r\nlet cw;\r\nlet ch;\r\n\r\nctx.circle = function (v, r) {\r\n  this.arc(v.x, v.y, r, 0, Math.PI * 2);\r\n}\r\nctx.line = function (v1, v2) {\r\n  this.moveTo(v1.x, v1.y);\r\n  this.lineTo(v2.x, v2.y);\r\n}\r\n\r\nfunction initCanvas() {\r\n  cw = canvas.width;\r\n  ch = canvas.height;\r\n}\r\n// initCanvas();\r\n\r\n\r\n\r\n\r\n\r\nconst degToPi = Math.PI / 180;\r\nclass Game {\r\n  constructor(args) {\r\n    const def = {\r\n      start: false,\r\n    };\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  init() {\r\n    this.render();\r\n    this.update();\r\n  }\r\n  render() {\r\n    ctx.fillStyle = globalColor.blueDark;\r\n    ctx.fillRect(0, 0, cw, ch);\r\n    if (!this.start) {\r\n      // 中央兩白圈\r\n      ctx.save();\r\n        ctx.translate(cw / 2, ch / 2);\r\n        ctx.beginPath();\r\n        ctx.arc(0, 0, 180, 0, Math.PI * 2);\r\n        ctx.strokeStyle = globalColor.white;\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        ctx.arc(0, 0, 264, 0, Math.PI * 2);\r\n        ctx.globalAlpha = 0.3;\r\n        ctx.stroke();\r\n      ctx.restore();\r\n      // 黃圓\r\n      const circle = new Circle({\r\n        p: {\r\n          x: cw - 120,\r\n          y: 96,\r\n        },\r\n      });\r\n      circle.draw();\r\n      // 藍三角形\r\n      const triangle = new Triangle({\r\n        p: {\r\n          x: cw - 240,\r\n          y: ch - 80,\r\n        },\r\n        rotate: 8,\r\n      });\r\n      triangle.draw();\r\n      // 紅多邊形\r\n      const polygon = new Polygon({\r\n        p: {\r\n          x: 88,\r\n          y: 104,\r\n        },\r\n      });\r\n      polygon.draw();\r\n      // 電池\r\n      drawBattery({\r\n        x: cw / 2 - 24,\r\n        y: ch / 2 - 51.8,\r\n      });\r\n      // R 字小三角裝飾\r\n      ctx.save();\r\n        ctx.translate(cw / 2 + 24, ch / 2 - 30);\r\n        ctx.rotate(-132 * degToPi);\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(4, 0);\r\n        ctx.lineTo(0, -8);\r\n        ctx.lineTo(-4, 0);\r\n        ctx.closePath();\r\n        ctx.fillStyle = globalColor.white;\r\n        ctx.fill();\r\n      ctx.restore();\r\n    }\r\n    requestAnimationFrame(() => { this.render() });\r\n  }\r\n  update() {\r\n    time += 1;\r\n    setTimeout(() => { this.update() }, 1000 / updateFPS);\r\n  }\r\n}\r\n\r\n\r\n\r\n/* Circle Class */\r\nclass Circle {\r\n  constructor(args) {\r\n    const def = {\r\n      p: new Vec2(0, 0),\r\n      r: 40,\r\n      color: globalColor.yellow,\r\n    }\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  draw() {\r\n    ctx.beginPath();\r\n    ctx.arc(this.p.x, this.p.y, this.r, 0, Math.PI *2);\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill();\r\n  }\r\n}\r\n\r\n\r\n\r\n/* Triangle Class */\r\nclass Triangle {\r\n  constructor(args) {\r\n    const def = {\r\n      p: new Vec2(0, 0),\r\n      // angleSpan: 360 / 3,\r\n      r: 78,\r\n      rotate: 0,\r\n      color: globalColor.blue,\r\n    }\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  draw() {\r\n    ctx.beginPath();\r\n    ctx.save();\r\n      ctx.translate(this.p.x, this.p.y);\r\n      ctx.moveTo(0, 0);\r\n      ctx.rotate(this.rotate * degToPi);\r\n      ctx.lineTo(this.r, 0);\r\n      ctx.translate(this.r, 0);\r\n      ctx.rotate(-30 * degToPi);\r\n      ctx.lineTo(0, -this.r);\r\n    ctx.restore();\r\n    ctx.closePath();\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill();\r\n  }\r\n}\r\n\r\n\r\n\r\n/* Polygon Class */\r\nclass Polygon {\r\n  constructor(args) {\r\n    const def = {\r\n      p: new Vec2(0, 0),\r\n      color: globalColor.red,\r\n    }\r\n    Object.assign(def, args);\r\n    Object.assign(this, def);\r\n  }\r\n  draw() {\r\n    ctx.save();\r\n      ctx.beginPath();\r\n      ctx.translate(this.p.x, this.p.y);\r\n      ctx.moveTo(0, 0);\r\n      ctx.rotate(16 * degToPi);\r\n      ctx.lineTo(40, 0);\r\n      ctx.translate(40, 0)\r\n\r\n      ctx.rotate(64 * degToPi);\r\n      ctx.lineTo(28, 0);\r\n      ctx.translate(28, 0);\r\n\r\n      ctx.rotate(42 * degToPi);\r\n      ctx.lineTo(36, 0);\r\n      ctx.translate(36, 0);\r\n\r\n      ctx.rotate(76 * degToPi);\r\n      ctx.lineTo(48, 0);\r\n      ctx.translate(48, 0);\r\n\r\n      ctx.rotate(48 * degToPi);\r\n      ctx.lineTo(44, 0);\r\n    ctx.restore();\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill();\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction drawBattery(p) {\r\n  ctx.save();\r\n    ctx.translate(p.x, p.y);\r\n    ctx.fillStyle = globalColor.yellow;\r\n    // 瓶身\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(-24, 0);\r\n    ctx.lineTo(-24, 42);\r\n    ctx.lineTo(0, 42);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.save();\r\n      ctx.translate(0, 44);\r\n      // 瓶底\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, 0);\r\n      ctx.lineTo(-24, 0);\r\n      ctx.lineTo(-24, 3);\r\n      ctx.lineTo(0, 3);\r\n      ctx.closePath();\r\n      ctx.fill();\r\n    ctx.restore();\r\n\r\n    // 瓶蓋\r\n    ctx.fillStyle = globalColor.white;\r\n    ctx.save();\r\n      ctx.translate(-6.75, 0);\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, 0);\r\n      ctx.lineTo(0, -3);\r\n      ctx.lineTo(-10.5, -3);\r\n      ctx.lineTo(-10.5, -0);\r\n      ctx.closePath();\r\n      ctx.fill();\r\n    ctx.restore();\r\n\r\n    // 閃電\r\n    ctx.strokeStyle = globalColor.white;\r\n    ctx.translate(-12, 9);\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.rotate(18 * degToPi);\r\n    ctx.lineTo(0, 10);\r\n    ctx.translate(0, 10);\r\n    ctx.rotate(-18 * degToPi);\r\n\r\n    ctx.lineTo(10, 0);\r\n    ctx.translate(10, 0);\r\n\r\n    ctx.rotate(28 * degToPi);\r\n    ctx.lineTo(0, 16);\r\n    ctx.translate(0, 16);\r\n    ctx.rotate(-28 * degToPi);\r\n\r\n    ctx.rotate(3.6 * degToPi);\r\n    ctx.lineTo(0, -10);\r\n    ctx.translate(0, -10);\r\n    ctx.rotate(-3.6 * degToPi);\r\n\r\n    ctx.lineTo(-8, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n  ctx.restore();\r\n}\r\n\r\n/* Initialize Game Logic */\r\n// function init() {\r\n\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n/* Update Game Logic */\r\n// function update() {\r\n//   time += 1;\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n/* Update Picture */\r\n// function draw() {\r\n  // clear background\r\n  // ctx.fillStyle = globalColor.blueDark;\r\n  // ctx.fillRect(0, 0, cw, ch);\r\n\r\n  // draw here\r\n  // ...\r\n\r\n  // draw mouse\r\n  // ctx.fillStyle = 'red';\r\n  // ctx.beginPath();\r\n  // ctx.circle(mouseMovePos, 3);\r\n  // ctx.fill();\r\n\r\n  // ctx.save();\r\n  // ctx.translate(mouseMovePos.x, mouseMovePos.y);\r\n  // ctx.strokeStyle = 'red';\r\n  // const length = 20;\r\n  // ctx.beginPath();\r\n  // ctx.fillText(mouseMovePos, 10, -10);\r\n  // ctx.line(new Vec2(-length, 0), new Vec2(length, 0));\r\n  // ctx.line(new Vec2(0, -length), new Vec2(0, length));\r\n  // ctx.stroke();\r\n  // ctx.restore();\r\n\r\n  // requestAnimationFrame(draw);\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n/* Page Loaded */\r\nfunction handleLoad() {\r\n  const game = new Game();\r\n  initCanvas();\r\n  game.init();\r\n  // init();\r\n  // requestAnimationFrame(draw);\r\n  // setInterval(update, 1000 / updateFPS);\r\n}\r\n\r\n// load & resize event\r\nwindow.addEventListener('load', handleLoad);\r\nwindow.addEventListener('resize', initCanvas);\r\n\r\n\r\n\r\n\r\n\r\n/* Mouse Events & Recording */\r\nconst mouseMovePos = new Vec2(0, 0);\r\nlet mouseUpPos = new Vec2(0, 0);\r\nlet mouseDownPos = new Vec2(0, 0);\r\n\r\nwindow.addEventListener('mousemove', handleMouseMove);\r\nwindow.addEventListener('mouseup', handleMouseUp);\r\nwindow.addEventListener('mousedown', handleMouseDown);\r\n\r\nfunction handleMouseMove(evt) {\r\n  mouseMovePos.set(evt.x, evt.y);\r\n}\r\n\r\nfunction handleMouseUp(evt) {\r\n  mouseUpPos = mouseMovePos.clone();\r\n}\r\n\r\nfunction handleMouseDown(evt) {\r\n  mouseDownPos = mouseMovePos.clone();\r\n}"]}